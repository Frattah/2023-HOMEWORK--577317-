package it.uniroma3.diadia.ambienti;

import static org.junit.jupiter.api.Assertions.*;

import org.junit.jupiter.api.*;

import it.uniroma3.diadia.attrezzi.*;

class StanzaTest {
	
	
	public Attrezzo attrezzoDiTest(int i) {
		Attrezzo risultato = new Attrezzo("attrezzoDiTest" + i, 1);
		return risultato;
	}
	
	public Stanza stanzaMaxAdiacenti() {
		Stanza risultato = new Stanza(null);
		for (int i = 0; i < risultato.maxNumeroDirezioni(); i++)
			risultato.impostaStanzaAdiacente("direzioneDiTest"+i,null);
		return risultato;
	}
	
	public Stanza stanzaNoAdiacentiNoAttrezzi() {
		Stanza risultato = new Stanza(null);
		return risultato;
	}
	
	public Stanza stanzaMaxAttrezzi() {
		Stanza risultato = new Stanza(null);
		for (int i = 0; i < risultato.maxNumeroAttrezzi(); i++)
			risultato.addAttrezzo(attrezzoDiTest(i));
		return risultato;
	}
	
	public Stanza stanzaSingletonAttrezzi() {
		Stanza risultato = new Stanza(null);
		risultato.addAttrezzo(attrezzoDiTest(0));
		return risultato;
	}
	
	// impostaStanzaAdiacente ##############################################################################################
	@Test
	public void testImpostaStanzaAdiacenteConStanzaMaxAdiacenti() {
		assertFalse(stanzaMaxAdiacenti().impostaStanzaAdiacente("StanzaDiTroppo", null));
	}
	
	
	// getStanzaAdiacente ##################################################################################################
	@Test
	public void testGetStanzaAdiacenteConStanzaNoAdiacenti() {
		assertNull(stanzaNoAdiacentiNoAttrezzi().getStanzaAdiacente("direzioneDiTest"));
	}
	
	
	// getAttrezzo
	@Test
	public void testGetAttrezzoConStanzaNoAttrezzi() {
		assertNull(stanzaNoAdiacentiNoAttrezzi().getAttrezzo("attrezzoDiTest"));
	}
	
	@Test
	public void testGetAttrezzoConStanzaMaxAttrezzi() {
		assertNotNull(stanzaMaxAttrezzi().getAttrezzo("attrezzoDiTest"));
	}
	
	@Test
	public void testGetAttrezzoConStanzaMaxAttrezziAttrezzoAssente() {
		assertNull(stanzaMaxAttrezzi().getAttrezzo("attrezzoAssente"));
	}
	
	@Test
	public void testGetAttrezzoConStanzaSingletoAttrezzi() {
		assertNotNull(stanzaSingletonAttrezzi().getAttrezzo("attrezzoDiTest"));
	}
	
	
	// addAttrezzo #########################################################################################################
	@Test
	public void testAddAttrezzoConStanzaNoAdiacentiNoAttrezzi() {
		assertTrue(stanzaNoAdiacentiNoAttrezzi().addAttrezzo(attrezzoDiTest()));
	}
	
	@Test
	public void testAddAttrezzoConMaxAttrezzi() {
		assertFalse(stanzaMaxAttrezzi().addAttrezzo(attrezzoDiTest()));
	}
	
	
	// removeAttrezzo ######################################################################################################
	@Test
	public void testRemoveAttrezzoConStanzaNoAdiacentiNoAttrezzi() {
		assertFalse(stanzaNoAdiacentiNoAttrezzi().removeAttrezzo(attrezzoDiTest()));
	}
	
	@Test
	public void testRemoveAttrezzoConStanzaMaxAttrezzi() {
		assertTrue(stanzaMaxAttrezzi().removeAttrezzo(attrezzoDiTest()));
	}
	
	@Test
	public void testRemoveAttrezzoConSigletonAttrezzi() {
		assertTrue(stanzaSingletonAttrezzi().removeAttrezzo(attrezzoDiTest()));
	}
	
	
	// getDirezioni ########################################################################################################
	@Test
	public void testGetDirezioniConStanzaNoAdiacentiNoAttrezzi() {
		assertNull(stanzaNoAdiacentiNoAttrezzi().getDirezioni());
	}
	
	@Test
	public void testGetDirezioniConStanzaMaxAdiacenti() {
		assertNotNull(stanzaMaxAdiacenti().getDirezioni());
	}
	
	@Test
	public void testGetDirezioniIfRestituisceArrayCorretto() {
		assertEquals(stanzaMaxAdiacenti().getDirezioni()[2], "direzioneDiTest2");
	}
}
